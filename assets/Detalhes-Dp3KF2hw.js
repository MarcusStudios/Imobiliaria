import{j as e,u as y,d as j}from"./index-DkwaijbZ.js";import{r as o,u as f,L as x}from"./vendor-WiiANj4N.js";import{h as v,f as b}from"./firebase-BKpqSjBK.js";import{C as z,h as C,A as S,e as N,M as p,b as w,B,i as h,a as I,j as L,k as A}from"./icons-BB5CXp0T.js";const R=({images:s})=>{const[t,n]=o.useState(0),c=()=>{const r=t===0?s.length-1:t-1;n(r)},d=()=>{const r=t===s.length-1?0:t+1;n(r)};return e.jsxs("div",{className:"gallery-container",children:[e.jsxs("div",{className:"main-image-wrapper",children:[e.jsx("img",{src:s[t],alt:"Imóvel",className:"gallery-main-img"}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:c,className:"gallery-btn btn-left",children:e.jsx(z,{size:24})}),e.jsx("button",{onClick:d,className:"gallery-btn btn-right",children:e.jsx(C,{size:24})})]}),e.jsxs("div",{className:"gallery-counter",children:[t+1," / ",s.length]})]}),s.length>1&&e.jsx("div",{className:"thumbnails-row",children:s.map((l,r)=>e.jsx("img",{src:l,loading:"lazy",alt:`thumb-${r}`,className:`thumb ${t===r?"thumb-active":""}`,onClick:()=>n(r)},r))})]})},P=()=>{const{id:s}=f(),[t,n]=o.useState(null),[c,d]=o.useState(!0),{isAdmin:l}=y(),r="+5599991243054";if(o.useEffect(()=>{(async()=>{if(s)try{const i=await v(b(j,"imoveis",s));i.exists()&&n({id:i.id,...i.data()})}catch(i){console.error(i)}finally{d(!1)}})()},[s]),o.useEffect(()=>(t&&(document.title=`${t.titulo} | Lidiany Lopes Corretora`),()=>{document.title="Lidiany Lopes Corretora de Imóveis"}),[t]),c)return e.jsx("div",{className:"container",style:{padding:"4rem",textAlign:"center"},children:"Carregando..."});if(!t)return e.jsx("div",{className:"container",style:{padding:"4rem",textAlign:"center"},children:"Imóvel não encontrado."});const g=t.imagens&&t.imagens.length>0?t.imagens:["https://via.placeholder.com/800x400?text=Sem+Foto"],u=`https://wa.me/${r}?text=Olá Lidiany! Vi o imóvel "${t.titulo}" (Ref: ${s?.slice(0,4)}) e gostaria de mais detalhes.`,a=(m,i)=>m?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f1f5f9",padding:"8px 12px",borderRadius:"6px",fontSize:"0.9rem",color:"#334155"},children:[e.jsx(h,{size:16,color:"var(--success)"}),i]}):null;return e.jsxs("div",{className:"detalhes-page",style:{paddingBottom:"4rem"},children:[e.jsxs("div",{className:"container",style:{padding:"2rem 1.5rem 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs(x,{to:"/",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--text-muted)",fontWeight:500},children:[e.jsx(S,{size:20})," Voltar"]}),l&&e.jsxs(x,{to:`/admin/${t.id}`,className:"btn-details",style:{background:"var(--secondary)",width:"auto",padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"6px",marginTop:0},children:[e.jsx(N,{size:16})," Editar Imóvel"]})]}),e.jsx("span",{style:{background:"var(--primary)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"99px",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.5rem",display:"inline-block"},children:t.tipo==="Ambos"?"Venda ou Aluguel":t.tipo}),e.jsx("h1",{style:{fontSize:"2rem",lineHeight:1.2,marginBottom:"0.5rem"},children:t.titulo}),e.jsxs("div",{style:{display:"flex",alignItems:"center",color:"var(--text-muted)",gap:"5px"},children:[e.jsx(p,{size:18}),t.endereco," ",t.bairro&&`- ${t.bairro}`," ",t.cidade&&`- ${t.cidade}`]})]}),e.jsxs("div",{className:"container details-content",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2.5rem",marginTop:"2rem"},children:[e.jsxs("div",{children:[e.jsx(R,{images:g}),e.jsxs("div",{className:"features-row",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))",gap:"1rem",padding:"1.5rem 0",borderBottom:"1px solid var(--border)"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(w,{size:24,color:"var(--text-muted)",style:{margin:"0 auto"}}),e.jsxs("div",{style:{fontWeight:600},children:[t.area," ",e.jsx("small",{children:"m²"})]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(B,{size:24,color:"var(--text-muted)",style:{margin:"0 auto"}}),e.jsxs("div",{style:{fontWeight:600},children:[t.quartos," ",e.jsx("small",{children:"Quartos"})]})]}),t.suites&&t.suites>0&&e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(h,{size:24,color:"var(--text-muted)",style:{margin:"0 auto"}}),e.jsxs("div",{style:{fontWeight:600},children:[t.suites," ",e.jsx("small",{children:"Suítes"})]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(I,{size:24,color:"var(--text-muted)",style:{margin:"0 auto"}}),e.jsxs("div",{style:{fontWeight:600},children:[t.banheiros," ",e.jsx("small",{children:"Banh."})]})]}),t.vagas&&t.vagas>0&&e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(L,{size:24,color:"var(--text-muted)",style:{margin:"0 auto"}}),e.jsxs("div",{style:{fontWeight:600},children:[t.vagas," ",e.jsx("small",{children:"Vagas"})]})]})]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"O que esse imóvel oferece"}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:[a(t.piscina,"Piscina"),a(t.churrasqueira,"Churrasqueira"),a(t.elevador,"Elevador"),a(t.mobiliado,"Mobiliado"),a(t.portaria,"Portaria 24h"),a(t.aceitaPet,"Aceita Pet"),![t.piscina,t.churrasqueira,t.elevador,t.mobiliado,t.portaria,t.aceitaPet].some(Boolean)&&e.jsx("p",{style:{color:"#64748b",fontStyle:"italic"},children:"Consulte detalhes com a corretora."})]})]}),e.jsxs("div",{className:"description",style:{marginTop:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"0.5rem",fontSize:"1.25rem"},children:"Descrição"}),e.jsx("p",{style:{lineHeight:1.7,color:"#334155",whiteSpace:"pre-line"},children:t.descricao})]})]}),e.jsx("aside",{children:e.jsxs("div",{className:"agent-card",style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",position:"sticky",top:"100px",border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{color:"#64748b",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Valor do Imóvel"}),e.jsx("h2",{style:{color:"var(--primary)",fontSize:"2.5rem",fontWeight:700,margin:"0.5rem 0 1.5rem"},children:Number(t.preco).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(Number(t.condominio)>0||Number(t.iptu)>0)&&e.jsxs("div",{style:{background:"#f8fafc",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[Number(t.condominio)>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"0.9rem"},children:[e.jsxs("span",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[e.jsx(A,{size:14})," Condomínio:"]}),e.jsx("strong",{children:Number(t.condominio).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),Number(t.iptu)>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[e.jsxs("span",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[e.jsx(p,{size:14})," IPTU:"]}),e.jsx("strong",{children:Number(t.iptu).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),e.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"btn-whatsapp",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",background:"#25D366",color:"white",padding:"1rem",borderRadius:"8px",fontSize:"1.1rem",fontWeight:600,textDecoration:"none",transition:"transform 0.2s"},children:[e.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Chamar no WhatsApp"]}),e.jsx("p",{style:{textAlign:"center",marginTop:"1rem",fontSize:"0.8rem",color:"#94a3b8"},children:"Resposta rápida garantida."})]})})]})]})};export{P as Detalhes};
