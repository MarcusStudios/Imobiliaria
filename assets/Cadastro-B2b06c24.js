import{u as C,j as e}from"./index-Dt7FqmJS.js";import{r as a,e as y,L as S}from"./vendor-DPpvCZNn.js";import{l as m,E as h}from"./icons-D6G6rgYq.js";import"./firebase-DqZlsiQC.js";const A=()=>{const[o,p]=a.useState(""),[r,x]=a.useState(""),[l,j]=a.useState(""),[n,f]=a.useState(!1),[i,b]=a.useState(!1),[c,t]=a.useState(""),[d,u]=a.useState(!1),{register:v}=C(),N=y(),w=async s=>{if(s.preventDefault(),r!==l)return t("As senhas não coincidem.");if(r.length<6)return t("A senha deve ter pelo menos 6 caracteres.");try{t(""),u(!0),await v(o,r),N("/")}catch(g){g.code==="auth/email-already-in-use"?t("Este email já está cadastrado."):t("Falha ao criar conta. Tente novamente.")}finally{u(!1)}};return e.jsx("div",{className:"container cadastro-container",children:e.jsxs("div",{className:"card cadastro-card",children:[e.jsx("h2",{className:"cadastro-title",children:"Criar Conta"}),c&&e.jsx("div",{className:"error-message",children:c}),e.jsxs("form",{onSubmit:w,className:"cadastro-form",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Email"}),e.jsx("input",{type:"email",className:"input-control",value:o,onChange:s=>p(s.target.value),placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Senha"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("input",{type:n?"text":"password",className:"input-control input-control-with-icon",value:r,onChange:s=>x(s.target.value),placeholder:"Crie uma senha forte",required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!n),className:"eye-button",children:n?e.jsx(m,{size:20}):e.jsx(h,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Confirmar Senha"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("input",{type:i?"text":"password",className:"input-control input-control-with-icon",value:l,onChange:s=>j(s.target.value),placeholder:"Repita a senha",required:!0}),e.jsx("button",{type:"button",onClick:()=>b(!i),className:"eye-button",children:i?e.jsx(m,{size:20}):e.jsx(h,{size:20})})]})]}),e.jsx("button",{type:"submit",className:"btn-details btn-submit",disabled:d,children:d?"Criando...":"Cadastrar"})]}),e.jsxs("div",{className:"login-link-wrapper",children:["Já tem uma conta?"," ",e.jsx(S,{to:"/login",className:"login-link",children:"Entrar"})]})]})})};export{A as Cadastro};
