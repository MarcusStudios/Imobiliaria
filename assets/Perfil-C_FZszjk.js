import{u as o,b as t,j as s}from"./index-Dt7FqmJS.js";import{e as d}from"./vendor-DPpvCZNn.js";import{U as r,t as m,u as p,b as v,L as x}from"./icons-D6G6rgYq.js";import"./firebase-DqZlsiQC.js";const g=()=>{const{user:i,logout:l,isAdmin:n}=o(),{count:e}=t(),a=d(),c=async()=>{window.confirm("Deseja realmente sair da conta?")&&(await l(),a("/"))};return i?s.jsxs("div",{className:"perfil-page",children:[s.jsx("div",{className:"perfil-header-bg"}),s.jsx("div",{className:"perfil-container",children:s.jsxs("div",{className:"perfil-card",children:[s.jsxs("div",{className:"perfil-top-section",children:[s.jsx("div",{className:"perfil-avatar-wrapper",children:i.photoURL?s.jsx("img",{src:i.photoURL,alt:"Foto de perfil",className:"perfil-avatar-img"}):s.jsx("div",{className:"perfil-avatar-placeholder",children:s.jsx(r,{size:64})})}),s.jsx("h1",{className:"perfil-name",children:i.displayName||"Usuário sem nome"}),s.jsxs("div",{className:"perfil-email",children:[s.jsx(m,{size:16}),s.jsx("span",{children:i.email})]}),n&&s.jsxs("div",{className:"perfil-badge-admin",children:[s.jsx(p,{size:14,fill:"currentColor"})," Administrador"]})]}),s.jsxs("div",{className:"perfil-content",children:[s.jsx("h3",{className:"perfil-section-title",children:"Minhas Atividades"}),s.jsx("div",{className:"perfil-grid",children:s.jsxs("div",{onClick:()=>a("/favoritos"),className:"perfil-action-card",children:[s.jsx("div",{className:"perfil-action-icon icon-fav",children:s.jsx(v,{fill:e>0?"#ef4444":"none",size:24})}),s.jsxs("div",{className:"perfil-action-info",children:[s.jsx("h3",{children:"Imóveis Favoritos"}),s.jsxs("p",{children:[e," ",e===1?"imóvel salvo":"imóveis salvos"]})]})]})}),s.jsx("div",{style:{borderTop:"1px solid #f1f5f9",margin:"1rem 0"}}),s.jsx("div",{className:"btn-logout-container",children:s.jsxs("button",{onClick:c,className:"btn-logout",children:[s.jsx(x,{size:20})," Sair da Conta"]})})]})]})})]}):s.jsx("div",{className:"login-redirect-container",children:s.jsxs("div",{className:"login-card",children:[s.jsx("div",{className:"login-icon-wrapper",children:s.jsx(r,{size:40})}),s.jsx("h2",{children:"Acesso Restrito"}),s.jsx("p",{style:{color:"var(--secondary)",marginTop:"0.5rem"},children:"Para acessar seu perfil e ver os imóveis favoritos, você precisa entrar na sua conta."}),s.jsx("button",{className:"btn-primary-lg",onClick:()=>a("/login"),children:"Fazer Login"})]})})};export{g as Perfil};
