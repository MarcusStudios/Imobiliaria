import{u as t,a as d,j as s}from"./index-Cov3jxHx.js";import{U as l,s as m,t as c,H as p,L as v}from"./icons-HRjz0DnP.js";import{c as h}from"./vendor-Bpbu6qE6.js";import"./firebase-DDoP64bi.js";const u=()=>{const{user:i,logout:o,isAdmin:r}=t(),{count:a}=d(),e=h(),n=async()=>{window.confirm("Deseja realmente sair da conta?")&&(await o(),e("/"))};return i?s.jsxs("div",{className:"perfil-page",children:[s.jsx("div",{className:"perfil-header-bg"}),s.jsx("div",{className:"perfil-container",children:s.jsxs("div",{className:"perfil-card",children:[s.jsxs("div",{className:"perfil-top-section",children:[s.jsx("div",{className:"perfil-avatar-wrapper",children:i.photoURL?s.jsx("img",{src:i.photoURL,alt:"Foto de perfil",className:"perfil-avatar-img"}):s.jsx("div",{className:"perfil-avatar-placeholder",children:s.jsx(l,{size:64})})}),s.jsx("h1",{className:"perfil-name",children:i.displayName||(i.email?i.email.split("@")[0].charAt(0).toUpperCase()+i.email.split("@")[0].slice(1):"Usuário")}),s.jsxs("div",{className:"perfil-email",children:[s.jsx(m,{size:16}),s.jsx("span",{children:i.email})]}),r&&s.jsxs("div",{className:"perfil-badge-admin",children:[s.jsx(c,{size:14,fill:"currentColor"})," Administrador"]})]}),s.jsxs("div",{className:"perfil-content",children:[s.jsx("h3",{className:"perfil-section-title",children:"Minhas Atividades"}),s.jsxs("div",{className:"perfil-grid",children:[s.jsxs("div",{onClick:()=>e("/favoritos"),className:"perfil-action-card",children:[s.jsx("div",{className:"perfil-action-icon icon-fav",children:s.jsx(p,{fill:a>0?"#ef4444":"none",size:24})}),s.jsxs("div",{className:"perfil-action-info",children:[s.jsx("h3",{children:"Imóveis Favoritos"}),s.jsxs("p",{children:[a," ",a===1?"imóvel salvo":"imóveis salvos"]})]})]}),r&&s.jsxs("div",{onClick:()=>e("/admin"),className:"perfil-action-card",style:{borderColor:"var(--accent-color)"},children:[s.jsx("div",{className:"perfil-action-icon icon-settings",style:{backgroundColor:"#fefbed",color:"var(--accent-color)"},children:s.jsx(c,{size:24})}),s.jsxs("div",{className:"perfil-action-info",children:[s.jsx("h3",{style:{color:"var(--accent-color)"},children:"Painel Admin"}),s.jsx("p",{children:"Gerenciar imóveis e terrenos do site"})]})]})]}),s.jsx("div",{style:{borderTop:"1px solid #f1f5f9",margin:"1rem 0"}}),s.jsx("div",{className:"btn-logout-container",children:s.jsxs("button",{onClick:n,className:"btn-logout",children:[s.jsx(v,{size:20})," Sair da Conta"]})})]})]})})]}):s.jsx("div",{className:"login-redirect-container",children:s.jsxs("div",{className:"login-card",children:[s.jsx("div",{className:"login-icon-wrapper",children:s.jsx(l,{size:40})}),s.jsx("h2",{children:"Acesso Restrito"}),s.jsx("p",{style:{color:"var(--secondary)",marginTop:"0.5rem"},children:"Para acessar seu perfil e ver os imóveis favoritos, você precisa entrar na sua conta."}),s.jsx("button",{className:"btn-primary-lg",onClick:()=>e("/login"),children:"Fazer Login"})]})})};export{u as Perfil};
