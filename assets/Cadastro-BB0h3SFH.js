import{u as w,j as e}from"./index-CZpKUOUo.js";import{r as s,e as E,L as N}from"./vendor-DPpvCZNn.js";import{l as h,E as p}from"./icons-oDxEi2-m.js";import"./firebase-mGLr8wx-.js";const R=()=>{const[o,x]=s.useState(""),[r,g]=s.useState(""),[l,y]=s.useState(""),[n,j]=s.useState(!1),[i,f]=s.useState(!1),[d,a]=s.useState(""),[c,m]=s.useState(!1),{register:v}=w(),b=E(),C=async t=>{if(t.preventDefault(),r!==l)return a("As senhas não coincidem.");if(r.length<6)return a("A senha deve ter pelo menos 6 caracteres.");try{a(""),m(!0),await v(o,r),b("/")}catch(S){S.code==="auth/email-already-in-use"?a("Este email já está cadastrado."):a("Falha ao criar conta. Tente novamente.")}finally{m(!1)}},u={position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#64748b",display:"flex",alignItems:"center"};return e.jsx("div",{className:"container",style:{padding:"4rem 0",maxWidth:"400px"},children:e.jsxs("div",{className:"card",style:{padding:"2rem"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"Criar Conta"}),d&&e.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:d}),e.jsxs("form",{onSubmit:C,style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Email"}),e.jsx("input",{type:"email",className:"input-control",value:o,onChange:t=>x(t.target.value),placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Senha"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:n?"text":"password",className:"input-control",value:r,onChange:t=>g(t.target.value),placeholder:"Crie uma senha forte",style:{paddingRight:"40px"},required:!0}),e.jsx("button",{type:"button",onClick:()=>j(!n),style:u,children:n?e.jsx(h,{size:20}):e.jsx(p,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Confirmar Senha"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:i?"text":"password",className:"input-control",value:l,onChange:t=>y(t.target.value),placeholder:"Repita a senha",style:{paddingRight:"40px"},required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!i),style:u,children:i?e.jsx(h,{size:20}):e.jsx(p,{size:20})})]})]}),e.jsx("button",{type:"submit",className:"btn-details",style:{width:"100%",marginTop:"1rem"},disabled:c,children:c?"Criando...":"Cadastrar"})]}),e.jsxs("div",{style:{marginTop:"1rem",textAlign:"center",fontSize:"0.9rem"},children:["Já tem uma conta?"," ",e.jsx(N,{to:"/login",style:{color:"var(--primary)",fontWeight:"bold"},children:"Entrar"})]})]})})};export{R as Cadastro};
