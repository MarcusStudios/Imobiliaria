import{j as e,d as u}from"./index-DkwaijbZ.js";import{d as b,u as v,r as h}from"./vendor-WiiANj4N.js";import{h as y,f as g,u as f,q as N,n as C}from"./firebase-BKpqSjBK.js";import"./icons-BB5CXp0T.js";const q=()=>{const d=b(),{id:i}=v(),[x,t]=h.useState(!1),[a,p]=h.useState({titulo:"",descricao:"",tipo:"Venda",preco:0,precoAluguel:0,endereco:"",bairro:"",cidade:"A√ßail√¢ndia",area:0,quartos:0,suites:0,banheiros:0,vagas:0,condominio:0,iptu:0,piscina:!1,churrasqueira:!1,elevador:!1,mobiliado:!1,portaria:!1,aceitaPet:!1,imagens:[],lat:-15.5518,lng:-54.298});h.useEffect(()=>{i&&(async()=>{t(!0);try{const s=await y(g(u,"imoveis",i));if(s.exists()){const r=s.data(),{id:c,...m}=r;p(m)}else alert("Im√≥vel n√£o encontrado!"),d("/admin")}catch(s){console.error("Erro ao buscar:",s)}finally{t(!1)}})()},[i,d]);const l=o=>{const{name:s,value:r}=o.target,c=["preco","precoAluguel","area","quartos","banheiros","suites","vagas","condominio","iptu","lat","lng"].includes(s);p(m=>({...m,[s]:c?Number(r):r}))},n=o=>{const{name:s,checked:r}=o.target;p(c=>({...c,[s]:r}))},j=async o=>{o.preventDefault(),t(!0);try{const s={...a};s.tipo!=="Ambos"&&(s.precoAluguel=0),i?(await f(g(u,"imoveis",i),s),alert("Im√≥vel atualizado com sucesso!")):(await N(C(u,"imoveis"),s),alert("Im√≥vel cadastrado com sucesso!")),d("/")}catch(s){console.error("Erro ao salvar:",s);const r=s instanceof Error?s.message:"Erro desconhecido";alert("Erro ao salvar: "+r)}finally{t(!1)}};return e.jsxs("div",{className:"container",style:{padding:"2rem 0",maxWidth:"900px"},children:[e.jsx("h1",{children:i?"‚úèÔ∏è Editar Im√≥vel":"üè† Cadastrar Novo Im√≥vel"}),e.jsx("div",{className:"card",style:{padding:"2rem",marginTop:"1rem",border:"none",boxShadow:"none",background:"transparent"},children:e.jsxs("form",{onSubmit:j,style:{display:"grid"},children:[e.jsxs("section",{children:[e.jsx("h3",{children:"Informa√ß√µes Principais"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"T√≠tulo"}),e.jsx("input",{name:"titulo",value:a.titulo,onChange:l,className:"input-control",required:!0,placeholder:"Ex: Apartamento no Centro com Vista"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Finalidade"}),e.jsxs("select",{name:"tipo",value:a.tipo,onChange:l,className:"input-control",children:[e.jsx("option",{value:"Venda",children:"Venda"}),e.jsx("option",{value:"Aluguel",children:"Aluguel"}),e.jsx("option",{value:"Ambos",children:"Ambos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:a.tipo==="Aluguel"?"Aluguel (R$)":"Venda (R$)"}),e.jsx("input",{name:"preco",type:"number",value:a.preco||"",onChange:l,className:"input-control",required:!0,placeholder:"Ex: 350000"})]}),a.tipo==="Ambos"&&e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Aluguel (R$)"}),e.jsx("input",{name:"precoAluguel",type:"number",value:a.precoAluguel||"",onChange:l,className:"input-control",required:!0,placeholder:"Ex: 2500"})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"Localiza√ß√£o"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Endere√ßo"}),e.jsx("input",{name:"endereco",value:a.endereco,onChange:l,className:"input-control",required:!0,placeholder:"Ex: Rua das Palmeiras, 123"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Bairro"}),e.jsx("input",{name:"bairro",value:a.bairro,onChange:l,className:"input-control",required:!0,placeholder:"Ex: Jardim Imperial"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Cidade"}),e.jsx("input",{name:"cidade",value:a.cidade,onChange:l,className:"input-control",placeholder:"Ex: Primavera do Leste"})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"Detalhes"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"√Årea (m¬≤)"}),e.jsx("input",{name:"area",type:"number",value:a.area||"",onChange:l,className:"input-control",placeholder:"Ex: 120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Quartos"}),e.jsx("input",{name:"quartos",type:"number",value:a.quartos||"",onChange:l,className:"input-control",placeholder:"Ex: 3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Su√≠tes"}),e.jsx("input",{name:"suites",type:"number",value:a.suites||"",onChange:l,className:"input-control",placeholder:"Ex: 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Banh."}),e.jsx("input",{name:"banheiros",type:"number",value:a.banheiros||"",onChange:l,className:"input-control",placeholder:"Ex: 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Vagas"}),e.jsx("input",{name:"vagas",type:"number",value:a.vagas||"",onChange:l,className:"input-control",placeholder:"Ex: 2"})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"Custos Extras"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Condom√≠nio (R$)"}),e.jsx("input",{name:"condominio",type:"number",value:a.condominio||"",onChange:l,className:"input-control",placeholder:"Ex: 450"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"IPTU (R$)"}),e.jsx("input",{name:"iptu",type:"number",value:a.iptu||"",onChange:l,className:"input-control",placeholder:"Ex: 1200"})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"Comodidades"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem"},children:[e.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"piscina",checked:a.piscina,onChange:n,style:{width:"18px",height:"18px"}})," Piscina"]}),e.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"churrasqueira",checked:a.churrasqueira,onChange:n,style:{width:"18px",height:"18px"}})," Churrasqueira"]}),e.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"elevador",checked:a.elevador,onChange:n,style:{width:"18px",height:"18px"}})," Elevador"]}),e.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"mobiliado",checked:a.mobiliado,onChange:n,style:{width:"18px",height:"18px"}})," Mobiliado"]}),e.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"portaria",checked:a.portaria,onChange:n,style:{width:"18px",height:"18px"}})," Portaria"]}),e.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"aceitaPet",checked:a.aceitaPet,onChange:n,style:{width:"18px",height:"18px"}})," Aceita Pet"]})]})]}),e.jsxs("section",{children:[e.jsx("label",{className:"label",children:"Descri√ß√£o"}),e.jsx("textarea",{name:"descricao",rows:6,value:a.descricao,onChange:l,className:"input-control",style:{height:"auto"},placeholder:"Ex: Im√≥vel rec√©m reformado, pr√≥ximo a escolas e supermercados. Possui acabamento em porcelanato..."})]}),e.jsx("button",{type:"submit",className:"btn-details",style:{background:"var(--primary)",color:"white",marginTop:"1rem"},disabled:x,children:x?"Salvando...":"‚úÖ Salvar Im√≥vel"})]})})]})};export{q as CadastroImovel};
