import{u as p,j as e}from"./index-CCfVtZuy.js";import{r,L as x}from"./vendor-DPpvCZNn.js";import"./firebase-DqZlsiQC.js";import"./icons-D6G6rgYq.js";const S=()=>{const[s,u]=r.useState(""),[l,i]=r.useState(""),[m,t]=r.useState(""),[c,d]=r.useState(!1),{resetPassword:g}=p(),h=async n=>{n.preventDefault();try{i(""),t(""),d(!0),console.log("Tentando enviar email para:",s),await g(s),console.log("Firebase diz que enviou!"),i("Se o e-mail estiver cadastrado, você receberá um link em instantes."),i(a=>a+" Verifique sua caixa de spam também.")}catch(a){console.error("ERRO FIREBASE:",a);const o=a;o.code==="auth/user-not-found"?t("Este e-mail não está cadastrado no sistema."):o.code==="auth/invalid-email"?t("Formato de e-mail inválido."):t("Erro: "+(o.message||"Falha desconhecida"))}finally{d(!1)}};return e.jsx("div",{className:"container",style:{padding:"4rem 0",maxWidth:"400px"},children:e.jsxs("div",{className:"card",style:{padding:"2rem"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"Recuperar Senha"}),m&&e.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:m}),l&&e.jsx("div",{style:{color:"green",marginBottom:"1rem",textAlign:"center"},children:l}),e.jsxs("form",{onSubmit:h,style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Email"}),e.jsx("input",{type:"email",className:"input-control",value:s,onChange:n=>u(n.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"btn-details",style:{width:"100%",marginTop:"1rem"},disabled:c,children:c?"Enviando...":"Redefinir Senha"})]}),e.jsx("div",{style:{marginTop:"1rem",textAlign:"center",fontSize:"0.9rem"},children:e.jsx(x,{to:"/login",style:{color:"var(--primary)"},children:"Voltar para Login"})})]})})};export{S as RecuperarSenha};
